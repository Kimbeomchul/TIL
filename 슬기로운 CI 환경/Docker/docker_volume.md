# 도커 볼륨 ( Docker Volume )

#### 도커는 빌드시 COPY 명령어로 받아왔었기때문에 소스가 변경되면 재빌드를 해야 변경됨 ( 비효율적 )
- 해결방안 ( 볼륨이용 )
- 도커볼륨이란 ? 
  + COPY는 로컬의 파일을 도커 컨테이너로 복사하는 형식이였다면, 볼륨은 도커 컨테이너가 로컬의 경로에 있는 파일을 참조하는 형식이다. ( 매핑이라 봐야하나 ..? ) 이를 이용하게되면 재빌드를 하지않고 재실행만으로 변환된다.
- 사용법
  + Node.js 기준 npm이 다운받아지는 node_modules가 컨테이너 안에있으므로 제외시키고 시작
  + docker run -p 8090:8080 -v /usr/src/app/node_modules -v $(pwd):/usr/src/app < 이미지 아이디 >
  + 앞부분의 run -p <포트>는 앞서 적어놨으니 생략하고 뒤의 -v 부분은 node_modules를 생략하는 명령어이다. 이후 나오는 pwd부분은 복사할 로컬파일의 위치를 나타낸다.
  + 소스를 변경 후 도커재실행을해야 적용된다.
- Tip
  + docker stop <이미지명> 을 작성시 이미지명이 1e2e29192e식이라면 같이 실행중인 이미지명과 겹치지 않는 선에서 1e2 이런식으로 작성해도 정상종료된다.
  